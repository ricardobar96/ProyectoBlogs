{"ast":null,"code":"import Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./blog.service\";\nexport class BlogsComponent {\n  constructor(blogService, changeDetectorRef) {\n    this.blogService = blogService;\n    this.changeDetectorRef = changeDetectorRef;\n  }\n  ngOnInit() {\n    this.blogSubscribe = this.blogService.getBlogs().pipe().subscribe(blogs => {\n      this.blogs = blogs;\n    });\n  }\n  delete(blog) {\n    const swalWithBootstrapButtons = Swal.mixin({\n      customClass: {\n        confirmButton: 'btn btn-success',\n        cancelButton: 'btn btn-danger'\n      },\n      buttonsStyling: false\n    });\n    swalWithBootstrapButtons.fire({\n      title: '¿Estas seguro?',\n      text: `¿Seguro que deseas eliminar al blog ${blog.title} ?`,\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Eliminar',\n      cancelButtonText: 'Cancelar',\n      reverseButtons: true\n    }).then(result => {\n      if (result.isConfirmed) {\n        this.blogService.delete(blog.id).subscribe(response => {\n          this.blogs = this.blogs.filter(cli => cli !== blog);\n          swalWithBootstrapButtons.fire('Blog eliminado', `Blog ${blog.title} eliminado con exito`, 'success');\n        });\n      }\n    });\n  }\n}\nBlogsComponent.ɵfac = function BlogsComponent_Factory(t) {\n  return new (t || BlogsComponent)(i0.ɵɵdirectiveInject(i1.BlogService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n};\nBlogsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BlogsComponent,\n  selectors: [[\"app-blogs\"]],\n  decls: 2,\n  vars: 0,\n  template: function BlogsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"blogs works!\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAIA,OAAOA,IAAI,MAAM,aAAa;;;AAO9B,OAAM,MAAOC,cAAc;EAIzBC,YAAoBC,WAAwB,EAAUC,iBAAoC;IAAtE,gBAAW,GAAXD,WAAW;IAAuB,sBAAiB,GAAjBC,iBAAiB;EACvE;EAEAC,QAAQ;IACN,IAAI,CAACC,aAAa,GAClB,IAAI,CAACH,WAAW,CAACI,QAAQ,EAAE,CAACC,IAAI,EAAE,CACjCC,SAAS,CACPC,KAAK,IAAI;MACR,IAAI,CAACA,KAAK,GAAGA,KAAK;IACpB,CAAC,CACF;EACH;EAEAC,MAAM,CAACC,IAAU;IACf,MAAMC,wBAAwB,GAAGb,IAAI,CAACc,KAAK,CAAC;MAC1CC,WAAW,EAAE;QACXC,aAAa,EAAE,iBAAiB;QAChCC,YAAY,EAAE;OACf;MACDC,cAAc,EAAE;KACjB,CAAC;IAEFL,wBAAwB,CAACM,IAAI,CAAC;MAC5BC,KAAK,EAAE,gBAAgB;MACvBC,IAAI,EAAE,uCAAuCT,IAAI,CAACQ,KAAK,IAAI;MAC3DE,IAAI,EAAE,SAAS;MACfC,gBAAgB,EAAE,IAAI;MACtBC,iBAAiB,EAAE,UAAU;MAC7BC,gBAAgB,EAAE,UAAU;MAC5BC,cAAc,EAAE;KACjB,CAAC,CAACC,IAAI,CAAEC,MAAM,IAAI;MACjB,IAAIA,MAAM,CAACC,WAAW,EAAE;QACtB,IAAI,CAAC1B,WAAW,CAACQ,MAAM,CAACC,IAAI,CAACkB,EAAE,CAAC,CAACrB,SAAS,CACxCsB,QAAQ,IAAG;UACT,IAAI,CAACrB,KAAK,GAAG,IAAI,CAACA,KAAK,CAACsB,MAAM,CAC5BC,GAAG,IAAIA,GAAG,KAAKrB,IAAI,CACpB;UACDC,wBAAwB,CAACM,IAAI,CAC3B,gBAAgB,EAChB,QAAQP,IAAI,CAACQ,KAAK,sBAAsB,EACxC,SAAS,CACV;QACH,CAAC,CACF;;IAEL,CAAC,CAAC;EACJ;;AAlDWnB,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAiC;EAAAC;EAAAC;EAAAC;IAAA;MCX3BC,yBAAG;MAAAA,4BAAY;MAAAA,iBAAI","names":["Swal","BlogsComponent","constructor","blogService","changeDetectorRef","ngOnInit","blogSubscribe","getBlogs","pipe","subscribe","blogs","delete","blog","swalWithBootstrapButtons","mixin","customClass","confirmButton","cancelButton","buttonsStyling","fire","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","reverseButtons","then","result","isConfirmed","id","response","filter","cli","selectors","decls","vars","template","i0"],"sourceRoot":"","sources":["C:\\Users\\a895589\\curso_angular\\proyectoBlog\\src\\app\\blogs\\blogs.component.ts","C:\\Users\\a895589\\curso_angular\\proyectoBlog\\src\\app\\blogs\\blogs.component.html"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { Blog } from './blog';\nimport { Subscription } from 'rxjs';\nimport { BlogService } from './blog.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-blogs',\n  templateUrl: './blogs.component.html',\n  styleUrls: ['./blogs.component.css']\n})\nexport class BlogsComponent implements OnInit {\n\n  blogs!: Blog[];\n  blogSubscribe: Subscription;\n  constructor(private blogService: BlogService, private changeDetectorRef: ChangeDetectorRef){ \n  }\n\n  ngOnInit(): void {\n    this.blogSubscribe =\n    this.blogService.getBlogs().pipe()\n    .subscribe(\n      (blogs) => {\n        this.blogs = blogs\n      }\n    );\n  }\n\n  delete(blog: Blog) {\n    const swalWithBootstrapButtons = Swal.mixin({\n      customClass: {\n        confirmButton: 'btn btn-success',\n        cancelButton: 'btn btn-danger'\n      },\n      buttonsStyling: false\n    })\n    \n    swalWithBootstrapButtons.fire({\n      title: '¿Estas seguro?',\n      text: `¿Seguro que deseas eliminar al blog ${blog.title} ?`,\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Eliminar',\n      cancelButtonText: 'Cancelar',\n      reverseButtons: true\n    }).then((result) => {\n      if (result.isConfirmed) {\n        this.blogService.delete(blog.id).subscribe(\n          response => {\n            this.blogs = this.blogs.filter (\n              cli => cli !== blog\n            )\n            swalWithBootstrapButtons.fire(\n              'Blog eliminado',\n              `Blog ${blog.title} eliminado con exito`,\n              'success'\n            )\n          }\n        )\n      }\n    })\n  }\n\n}","<p>blogs works!</p>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}