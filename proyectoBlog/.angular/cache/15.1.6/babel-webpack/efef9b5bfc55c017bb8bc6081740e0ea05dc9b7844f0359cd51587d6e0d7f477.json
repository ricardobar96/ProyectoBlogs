{"ast":null,"code":"import Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./blog.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction BlogsComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1, \" No hay registros en la base de datos \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/blogs/form\", a1];\n};\nfunction BlogsComponent_table_10_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\")(11, \"button\", 11);\n    i0.ɵɵtext(12, \"Editar\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"td\")(14, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function BlogsComponent_table_10_tr_16_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const blog_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.delete(blog_r3));\n    });\n    i0.ɵɵtext(15, \"Eliminar\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const blog_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(blog_r3.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 5, blog_r3.title));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(blog_r3.date);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(blog_r3.user);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(7, _c0, blog_r3.id));\n  }\n}\nfunction BlogsComponent_table_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 9)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"User\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \" Editar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \" Eliminar \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"tbody\");\n    i0.ɵɵtemplate(16, BlogsComponent_table_10_tr_16_Template, 16, 9, \"tr\", 10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.blogs);\n  }\n}\nconst _c1 = function () {\n  return [\"/blogs/form\"];\n};\nexport class BlogsComponent {\n  constructor(blogService, changeDetectorRef) {\n    this.blogService = blogService;\n    this.changeDetectorRef = changeDetectorRef;\n  }\n  ngOnInit() {\n    this.blogSubscribe = this.blogService.getBlogs().pipe().subscribe(blogs => {\n      this.blogs = blogs;\n    });\n  }\n  delete(blog) {\n    const swalWithBootstrapButtons = Swal.mixin({\n      customClass: {\n        confirmButton: 'btn btn-success',\n        cancelButton: 'btn btn-danger'\n      },\n      buttonsStyling: false\n    });\n    swalWithBootstrapButtons.fire({\n      title: '¿Estas seguro?',\n      text: `¿Seguro que deseas eliminar al blog ${blog.title} ?`,\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Eliminar',\n      cancelButtonText: 'Cancelar',\n      reverseButtons: true\n    }).then(result => {\n      if (result.isConfirmed) {\n        this.blogService.delete(blog.id).subscribe(response => {\n          this.blogs = this.blogs.filter(cli => cli !== blog);\n          swalWithBootstrapButtons.fire('Blog eliminado', `Blog ${blog.title} eliminado con exito`, 'success');\n        });\n      }\n    });\n  }\n}\nBlogsComponent.ɵfac = function BlogsComponent_Factory(t) {\n  return new (t || BlogsComponent)(i0.ɵɵdirectiveInject(i1.BlogService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n};\nBlogsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BlogsComponent,\n  selectors: [[\"app-blogs\"]],\n  decls: 11,\n  vars: 4,\n  consts: [[1, \"card\", \"border-primary\", \"mb-3\"], [1, \"card-header\"], [1, \"card-body\", \"text-primary\"], [1, \"card-title\"], [1, \"my-2\", \"text-left\"], [\"type\", \"button\", 1, \"btn\", \"btn-rounded\", \"btn-primary\", 3, \"routerLink\"], [\"class\", \"alert alert-info\", 4, \"ngIf\"], [\"class\", \"table table-bordered table-striped\", 4, \"ngIf\"], [1, \"alert\", \"alert-info\"], [1, \"table\", \"table-bordered\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", \"name\", \"editar\", 1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"routerLink\"], [\"type\", \"button\", \"name\", \"eliminar\", 1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"]],\n  template: function BlogsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtext(2, \"Blogs\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"h5\", 3);\n      i0.ɵɵtext(5, \"Listado de blogs\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 4)(7, \"button\", 5);\n      i0.ɵɵtext(8, \"Crear blog\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(9, BlogsComponent_div_9_Template, 2, 0, \"div\", 6);\n      i0.ɵɵtemplate(10, BlogsComponent_table_10_Template, 17, 1, \"table\", 7);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c1));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", (ctx.blogs == null ? null : ctx.blogs.length) == 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.blogs == null ? null : ctx.blogs.length);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i2.UpperCasePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Swal","i0","BlogsComponent","constructor","blogService","changeDetectorRef","ngOnInit","blogSubscribe","getBlogs","pipe","subscribe","blogs","delete","blog","swalWithBootstrapButtons","mixin","customClass","confirmButton","cancelButton","buttonsStyling","fire","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","reverseButtons","then","result","isConfirmed","id","response","filter","cli","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\a895589\\curso_angular\\proyectoBlog\\src\\app\\blogs\\blogs.component.ts","C:\\Users\\a895589\\curso_angular\\proyectoBlog\\src\\app\\blogs\\blogs.component.html"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { Blog } from './blog';\nimport { Subscription } from 'rxjs';\nimport { BlogService } from './blog.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-blogs',\n  templateUrl: './blogs.component.html',\n  styleUrls: ['./blogs.component.css']\n})\nexport class BlogsComponent implements OnInit {\n\n  blogs!: Blog[];\n  blogSubscribe: Subscription;\n  constructor(private blogService: BlogService, private changeDetectorRef: ChangeDetectorRef){ \n  }\n\n  ngOnInit(): void {\n    this.blogSubscribe =\n    this.blogService.getBlogs().pipe()\n    .subscribe(\n      (blogs) => {\n        this.blogs = blogs\n      }\n    );\n  }\n\n  delete(blog: Blog) {\n    const swalWithBootstrapButtons = Swal.mixin({\n      customClass: {\n        confirmButton: 'btn btn-success',\n        cancelButton: 'btn btn-danger'\n      },\n      buttonsStyling: false\n    })\n    \n    swalWithBootstrapButtons.fire({\n      title: '¿Estas seguro?',\n      text: `¿Seguro que deseas eliminar al blog ${blog.title} ?`,\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Eliminar',\n      cancelButtonText: 'Cancelar',\n      reverseButtons: true\n    }).then((result) => {\n      if (result.isConfirmed) {\n        this.blogService.delete(blog.id).subscribe(\n          response => {\n            this.blogs = this.blogs.filter (\n              cli => cli !== blog\n            )\n            swalWithBootstrapButtons.fire(\n              'Blog eliminado',\n              `Blog ${blog.title} eliminado con exito`,\n              'success'\n            )\n          }\n        )\n      }\n    })\n  }\n\n}","<div class=\"card border-primary mb-3\">\n    <div class=\"card-header\">Blogs</div>\n    <div class=\"card-body text-primary\">\n      <h5 class=\"card-title\">Listado de blogs</h5>\n      \n      <div class=\"my-2 text-left\">\n        <button class=\"btn btn-rounded btn-primary\" type=\"button\" [routerLink]=\"['/blogs/form']\">Crear blog</button>\n      </div>\n\n      <div *ngIf=\"blogs?.length==0\" class=\"alert alert-info\">\n        No hay registros en la base de datos\n      </div>\n\n      <table class=\"table table-bordered table-striped\" *ngIf=\"blogs?.length\">\n        <thead>\n            <tr>\n                <th>Id</th>\n                <th>Title</th>\n                <th>Date</th>\n                <th>User</th>\n                <th>\n                  Editar\n                </th>\n                <th>\n                  Eliminar\n                </th>\n            </tr>\n        </thead>\n       <tbody>\n            <tr *ngFor=\"let blog of blogs\">\n                <td>{{blog.id}}</td>\n                <td>{{blog.title | uppercase}}</td>\n                <td>{{blog.date }}</td>\n                <td>{{blog.user }}</td>\n                <td>\n                  <button type=\"button\" name=\"editar\" [routerLink]=\"['/blogs/form', blog.id]\" class=\"btn btn-primary btn-sm\">Editar</button>\n                </td>\n\n                <td>\n                  <button type=\"button\" name=\"eliminar\" (click)=\"delete(blog)\" class=\"btn btn-danger btn-sm\">Eliminar</button>\n                </td>\n            </tr>\n       </tbody>\n      </table>\n    </div>\n  </div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}